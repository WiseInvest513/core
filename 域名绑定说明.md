# 域名绑定说明（Spaceship + Vercel）

## 前提条件
- ✅ 已在 Spaceship 购买域名
- ✅ 已在 Vercel 部署代码并成功运行

## 步骤一：在 Vercel 中添加自定义域名

1. 登录 [Vercel Dashboard](https://vercel.com/dashboard)
2. 找到你的项目（Core），点击进入
3. 点击顶部导航栏的 **Settings**（设置）
4. 在左侧菜单中找到 **Domains**（域名），点击进入
5. 在输入框中输入你购买的域名（例如：`example.com`），点击 **Add**（添加）
6. Vercel 会显示需要配置的 DNS 记录信息，**请先不要关闭这个页面**，你需要复制这些信息

**Vercel 通常会显示以下信息：**
- 根域名（`example.com`）需要添加 **A 记录**，指向 Vercel 的 IP 地址
- `www` 子域名（`www.example.com`）需要添加 **CNAME 记录**，指向 `cname.vercel-dns.com`

> **注意**：Vercel 的 IP 地址可能会变化，请以 Vercel 后台显示的实际 IP 地址为准。常见的 IP 地址是 `76.76.21.21`，但不保证一直是这个。

## 步骤二：在 Spaceship 中配置 DNS 记录

1. 登录 [Spaceship 控制台](https://spaceship.com/)
2. 进入 **My Domains**（我的域名）页面
3. 找到你购买的域名，点击域名进入管理页面
4. 找到 **DNS Management**（DNS 管理）或 **DNS Settings**（DNS 设置）选项
5. 根据 Vercel 提供的 DNS 记录信息，添加以下记录：

### 配置 A 记录（根域名）
- **类型（Type）**：`A`
- **主机名（Host/Name）**：`@` 或留空（取决于 Spaceship 的界面，`@` 表示根域名）
- **值（Value/Target/Points to）**：输入 Vercel 提供的 IP 地址（例如：`76.76.21.21`）
- **TTL**：保持默认（通常 3600 或 Auto）

### 配置 CNAME 记录（www 子域名）
- **类型（Type）**：`CNAME`
- **主机名（Host/Name）**：`www`
- **值（Value/Target/Points to）**：`cname.vercel-dns.com`
- **TTL**：保持默认（通常 3600 或 Auto）

6. 点击 **Save**（保存）或 **Add Record**（添加记录）

> **提示**：
> - 如果 Spaceship 的界面使用中文，对应的字段可能是：
>   - 类型 = 记录类型
>   - 主机名 = 名称 / 主机记录
>   - 值 = 目标地址 / 指向 / 记录值
> - 如果已经存在同名的记录（如 `@` 或 `www`），需要先删除旧的记录，再添加新的

## 步骤三：等待 DNS 传播并验证

1. **等待 DNS 传播**（通常需要 5 分钟到 48 小时，但大多数情况下在 15-60 分钟内生效）

2. **在 Vercel 中验证域名**：
   - 返回 Vercel 的 Domains 页面
   - 点击域名旁边的 **Refresh**（刷新）或 **Verify**（验证）按钮
   - Vercel 会自动检测 DNS 记录是否正确配置

3. **验证成功标志**：
   - Vercel 域名列表中的域名状态会显示为 **Valid**（有效）或绿色的勾号
   - 域名旁边会显示 SSL 证书状态（通常是 "Valid" 或 "Provisioning"）

## 步骤四：测试访问

1. 在浏览器中访问你的域名（例如：`https://example.com`）
2. 如果配置正确，应该能看到你的网站内容
3. 也可以测试 `www` 子域名（例如：`https://www.example.com`）

## 常见问题

### Q1: DNS 记录一直不生效？
- 检查 DNS 记录配置是否正确（特别是 IP 地址和 CNAME 值）
- 清除浏览器缓存或使用无痕模式访问
- 使用在线 DNS 查询工具（如 https://dnschecker.org/）检查 DNS 传播状态
- 尝试更换 DNS 服务器或等待更长时间（最长可能需要 48 小时）

### Q2: Vercel 显示域名无效？
- 确保 DNS 记录的 TTL 设置合理（建议使用默认值）
- 检查是否有其他 DNS 记录冲突（如重复的 A 记录或 CNAME 记录）
- 确保域名没有在其他地方被使用（如其他 Vercel 项目或其他平台）

### Q3: 想同时支持 www 和根域名？
- 按照上述步骤同时配置 A 记录（`@`）和 CNAME 记录（`www`）即可
- Vercel 会自动处理两个域名的访问

### Q4: 只想使用根域名，不需要 www？
- 只配置 A 记录（`@`），不配置 CNAME 记录（`www`）
- 或者在 Vercel 的域名设置中，删除 `www` 域名的配置

### Q5: SSL 证书问题？
- Vercel 会自动为你的域名申请和配置 SSL 证书（Let's Encrypt）
- 证书通常在域名验证成功后几分钟内自动配置
- 如果证书一直处于 "Provisioning"（配置中）状态，等待一段时间或联系 Vercel 支持

## 额外提示

- **备份 DNS 记录**：建议在修改 DNS 记录前，先截图或记录当前的 DNS 配置，以便出现问题时可以恢复
- **使用 CDN**：Vercel 已经提供了全球 CDN，所以你的网站访问速度会很快
- **HTTPS 自动配置**：Vercel 会自动为你的域名配置 HTTPS，无需额外操作

---

如果遇到问题，可以参考：
- [Vercel 官方文档 - 自定义域名](https://vercel.com/docs/concepts/projects/domains)
- Spaceship 的 DNS 管理帮助文档

